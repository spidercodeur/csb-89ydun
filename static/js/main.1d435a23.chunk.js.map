{"version":3,"sources":["components/Action.js","components/Icone.js","App.js","index.js"],"names":["Action","onClick","className","Icone","url","src","alt","App","useState","initialState","setInitialState","Oncechange","setOncechange","Category","setCategory","show","setShow","delay","ms","Promise","resolve","setTimeout","cache","setupCache","maxAge","api","axios","create","adapter","useEffect","method","then","response","setDonnee","data","store","start_anim","donnees","checkIcone","donnee","better_featured_image","source_url","checkChiffre","acf","chiffre_cle","checkTexte","texte","cat_id","href","id","nom","map","changeCategory","Math","floor","random","donneesCopyFiltred","filter","handleDelete","rootElement","document","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.1d435a23.chunk.js","sourcesContent":["export default function Action({ onClick }) {\n  return (\n    <button className=\"btn-close\" onClick={onClick}>\n      X\n    </button>\n  );\n}\n","export default function Icone({ url }) {\n  if (url)\n    return (\n      <div>\n        <img src={url} alt=\"icone\" />\n      </div>\n    );\n}\n","import { useState, useEffect } from \"react\";\nimport Action from \"./components/Action\";\nimport axios from \"axios\";\nimport { setupCache } from \"axios-cache-adapter\";\nimport Icone from \"./components/Icone\";\n\nfunction App() {\n  const [initialState, setInitialState] = useState([]);\n  const [Oncechange, setOncechange] = useState(true);\n  const [Category, setCategory] = useState(2);\n  const [show, setShow] = useState(\" starter-\");\n\n  const categoryList = [\n    { id: 2, nom: \"Générale\" },\n    { id: 3, nom: \"Bois\" }\n  ];\n\n  const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\n  const cache = setupCache({\n    maxAge: 15 * 60 * 1000\n  });\n  const api = axios.create({\n    adapter: cache.adapter\n  });\n\n  useEffect(() => {\n    if (Oncechange) {\n      api({\n        /* ?acf_format=standard */\n        url:\n          \"https://backend.mvmaquette.com/wp-json/wp/v2/posts?categories=\" +\n          Category,\n        method: \"get\"\n      }).then(async (response) => {\n        setDonnee(response.data);\n\n        setOncechange(false);\n      });\n    }\n  }, [initialState, Oncechange, Category, api, cache.store]);\n\n  if (show === \" starter-\") {\n    async function start_anim() {\n      await delay(400);\n      setShow(\" delay-\");\n    }\n    start_anim();\n  }\n\n  const [donnees, setDonnee] = useState(initialState);\n\n  const resetDonnees = () => {\n    setInitialState(\" \");\n    setOncechange(true);\n  };\n\n  const handleDelete = (id) => {\n    const donneesCopy = [...donnees];\n    const donneesCopyFiltred = donneesCopy.filter((donnee) => donnee.id !== id);\n    setDonnee(donneesCopyFiltred);\n  };\n  const randDelay = () => {\n    return Math.floor(Math.random() * (2 - 1 + 1) + 1);\n  };\n\n  const checkIcone = (donnee) => {\n    const url = donnee.better_featured_image;\n    if (url) return donnee.better_featured_image.source_url;\n  };\n  const checkChiffre = (donnee) => {\n    if (donnee.acf.chiffre_cle) return donnee.acf.chiffre_cle;\n  };\n  const checkTexte = (donnee) => {\n    if (donnee.acf.texte) return donnee.acf.texte;\n  };\n\n  async function changeCategory(cat_id) {\n    setShow(\" remove-\");\n    await delay(1000);\n    setCategory(cat_id);\n    setOncechange(true);\n    await delay(400);\n    setShow(\" delay-\");\n  }\n\n  return (\n    <div className=\"content visible\">\n      <button className=\"reset\" onClick={resetDonnees}>\n        Reset{\" \"}\n      </button>\n      <h1>Newsletter avec React et api wordpress</h1>\n      <p>\n        Remonte les posts en fonction de la catégorie.\n        <a href=\"https://github.com/spidercodeur/React_cards\">\n          {\" \"}\n          Lien vers le projet\n        </a>\n      </p>\n\n      <div className={\"menu-cat\"}>\n        {categoryList.map((donnee) => (\n          <div\n            key={donnee.id}\n            className={Category === donnee.id ? \"active_cat\" : null}\n          >\n            <button\n              className={\"btn-cat cat-color-\" + donnee.id}\n              onClick={() => changeCategory(donnee.id)}\n            >\n              <label className={\"label-cat\" + donnee.id}>\n                <img\n                  className=\"picto-cat\"\n                  src={\n                    \"https://backend.mvmaquette.com/wp-content/uploads/cat\" +\n                    donnee.id +\n                    \".png\"\n                  }\n                  alt=\"\"\n                />\n                <div className=\"label-cat\">\n                  {Category === donnee.id && donnee.nom}{\" \"}\n                </div>\n              </label>\n            </button>\n          </div>\n        ))}\n      </div>\n      <br />\n      <br />\n      <ul>\n        {donnees.map((donnee) => (\n          <li\n            className={\"card cat-\" + Category + \" \" + show + randDelay()}\n            key={donnee.id}\n          >\n            <Action onClick={() => handleDelete(donnee.id)} />\n            <Icone url={checkIcone(donnee)} />\n            <p className=\"chiffre_cle\">{checkChiffre(donnee)}</p>\n            <p className=\"texte\">{checkTexte(donnee)}</p>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport \"./styles.css\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}