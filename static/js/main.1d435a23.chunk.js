(this["webpackJsonptest-diverse"]=this["webpackJsonptest-diverse"]||[]).push([[0],{32:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c(22),a=(c(32),c(24)),s=c(3),i=c(8),o=c(4),u=c(0);function j(e){var t=e.onClick;return Object(u.jsx)("button",{className:"btn-close",onClick:t,children:"X"})}var l=c(10),b=c.n(l),d=c(23);function f(e){var t=e.url;if(t)return Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:t,alt:"icone"})})}var O=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],l=Object(n.useState)(!0),O=Object(o.a)(l,2),p=O[0],h=O[1],m=Object(n.useState)(2),x=Object(o.a)(m,2),v=x[0],w=x[1],N=Object(n.useState)(" starter-"),k=Object(o.a)(N,2),g=k[0],_=k[1],y=function(e){return new Promise((function(t){return setTimeout(t,e)}))},C=Object(d.setupCache)({maxAge:9e5}),S=b.a.create({adapter:C.adapter});if(Object(n.useEffect)((function(){p&&S({url:"https://backend.mvmaquette.com/wp-json/wp/v2/posts?categories="+v,method:"get"}).then(function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(t.data),h(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[c,p,v,S,C.store])," starter-"===g){var R=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(400);case 2:_(" delay-");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();R()}var M=Object(n.useState)(c),q=Object(o.a)(M,2),B=q[0],E=q[1],J=function(e){if(e.better_featured_image)return e.better_featured_image.source_url},A=function(e){if(e.acf.chiffre_cle)return e.acf.chiffre_cle},G=function(e){if(e.acf.texte)return e.acf.texte};function I(){return(I=Object(i.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(" remove-"),e.next=3,y(1e3);case 3:return w(t),h(!0),e.next=7,y(400);case 7:_(" delay-");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"content visible",children:[Object(u.jsxs)("button",{className:"reset",onClick:function(){r(" "),h(!0)},children:["Reset"," "]}),Object(u.jsx)("h1",{children:"Newsletter avec React et api wordpress"}),Object(u.jsxs)("p",{children:["Remonte les posts en fonction de la cat\xe9gorie.",Object(u.jsxs)("a",{href:"https://github.com/spidercodeur/React_cards",children:[" ","Lien vers le projet"]})]}),Object(u.jsx)("div",{className:"menu-cat",children:[{id:2,nom:"G\xe9n\xe9rale"},{id:3,nom:"Bois"}].map((function(e){return Object(u.jsx)("div",{className:v===e.id?"active_cat":null,children:Object(u.jsx)("button",{className:"btn-cat cat-color-"+e.id,onClick:function(){return function(e){return I.apply(this,arguments)}(e.id)},children:Object(u.jsxs)("label",{className:"label-cat"+e.id,children:[Object(u.jsx)("img",{className:"picto-cat",src:"https://backend.mvmaquette.com/wp-content/uploads/cat"+e.id+".png",alt:""}),Object(u.jsxs)("div",{className:"label-cat",children:[v===e.id&&e.nom," "]})]})})},e.id)}))}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("ul",{children:B.map((function(e){return Object(u.jsxs)("li",{className:"card cat-"+v+" "+g+Math.floor(2*Math.random()+1),children:[Object(u.jsx)(j,{onClick:function(){return function(e){var t=Object(a.a)(B).filter((function(t){return t.id!==e}));E(t)}(e.id)}}),Object(u.jsx)(f,{url:J(e)}),Object(u.jsx)("p",{className:"chiffre_cle",children:A(e)}),Object(u.jsx)("p",{className:"texte",children:G(e)})]},e.id)}))})]})},p=document.getElementById("root");Object(r.createRoot)(p).render(Object(u.jsx)(n.StrictMode,{children:Object(u.jsx)(O,{})}))}},[[53,1,2]]]);
//# sourceMappingURL=main.1d435a23.chunk.js.map